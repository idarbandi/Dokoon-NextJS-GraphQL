# میکروسرویس‌ها رو با پروژه StackPay یاد بگیرید: از صفر تا پیاده‌سازی!  

سلام به همه دوستان توسعه‌دهنده! امروز میخوام بهتون نشون بدم چطوری معماری **میکروسرویس‌ها** رو با یه پروژه واقعی درک کنید. هدف اصلی من اینه که این مفهوم رو نه با حرفای تئوری، بلکه با کد زدن و مثال عملی بهتون آموزش بدم. پروژه‌ای که براتون آماده کردم به اسم **StackPay** یه سیستم ثبت سفارش آنلاینه که قدم به قدم میسازیمش و میکروسرویس‌ها رو روشن میکنیم.  

## هدف پروژه: آموزش میکروسرویس به زبان ساده  
خیلی از دوستان میپرسن: «میکروسرویس چیه؟ چطوری کار میکنه؟» جواب من همیشه اینه: «بیاید با هم یه پروژه واقعی بسازیم!» تو این مقاله:  
۱. اول تعریف ساده‌ای از میکروسرویس میگم.  
۲. بعد با هم **StackPay** رو بررسی میکنیم و میبینیم چطوری میکروسرویس‌ها توش پیاده شدن.  
۳. در نهایت خودتون میتونید پروژه رو توسعه بدید!  

## گام اول: میکروسرویس چیه؟  
میکروسرویس‌ها مثل کارگرای یه کارخونه ان که هر کدوم وظیفه خاصی دارن. مثلاً:  
- یه سرویس فقط مسئول **مدیریت محصولات**ه.  
- یه سرویس دیگه فقط **ثبت سفارش** رو انجام میده.  
- هر سرویس به صورت مستقل کار میکنه و اگه یه سرویس از کار بیفته، بقیه سالم میمونن!  

## گام دوم: معرفی پروژه StackPay  
پروژه StackPay رو با دو سرویس اصلی و یه دیتابیس ساختیم:  
۱. **سرویس محصولات** (با FastAPI)  
۲. **سرویس سفارش‌ها** (با FastAPI)  
۳. **دیتابیس** (با Redis)  

### چرا این تکنولوژی‌ها رو انتخاب کردم؟  
- **FastAPI**: ساده، سریع و مناسب برای ساخت API.  
- **React**: برای رابط کاربری واکنش‌گرا.  
- **Redis**: دیتابیس سریع و سبک برای پروژه‌های کوچیک.  

## گام سوم: نصب و راه‌اندازی  
بیاین پروژه رو تو سیستم خودتون اجرا کنید تا ببینید میکروسرویس‌ها چطوری باهم کار میکنن.  

### پیش‌نیازها  
- Node.js (برای فرانت‌اند)  
- Python 3.8+ (برای بک‌اند)  

### مراحل نصب  
۱. کلون کردن ریپازیتوری:  
   ```bash  
   git clone https://github.com/idarbandi/StackPay.git  
   cd StackPay  
۲. نصب فرانت‌اند:

bash
Copy
cd frontend  
npm install  
۳. نصب بک‌اند:

bash
Copy
cd backend  
pip install -r requirements.txt  
۴. اجرای سرویس‌ها:

فرانت‌اند: npm start (آدرس: http://localhost:3000)

بک‌اند: uvicorn main:app --reload

گام چهارم: بررسی سرویس‌ها
۱. سرویس محصولات (Products Service)
وظیفه: دادن اطلاعات محصولات مثل نام، قیمت و موجودی.

API Endpoint:

bash
Copy
GET /products/{product_id}  
مثال: اگه product_id=1 رو فراخوانی کنید، اطلاعات لپتاپ اپل رو میگیرید.

۲. سرویس سفارش‌ها (Orders Service)
وظیفه: ثبت سفارش جدید و مدیریت اون.

API Endpoint:

bash
Copy
POST /orders/  
مثال: میفرستید { "product_id": 1, "quantity": 2 } و سیستم پاسخ میده: «سفارش ثبت شد!»

۳. ارتباط بین سرویس‌ها
فرانت‌اند (React) به سرویس محصولات وصل میشه تا لیست محصولات رو بگیره.

وقتی کاربر سفارش میده، فرانت‌اند به سرویس سفارش‌ها درخواست میفرسته.

گام پنجم: توسعه پروژه (میکروسرویس جدید اضافه کنید!)
حالا که پایه رو یاد گرفتید، میتونید سرویس‌های جدید به پروژه اضافه کنید. مثلاً:

سرویس پرداخت: برای وصل کردن درگاه بانکی.

سرویس کاربران: برای مدیریت لاگین و حساب کاربری.

چگونه مشارکت کنیم؟
۱. ریپازیتوری رو فورک کنید.
۲. تغییراتتون رو تو یه برنچ جدید پیاده کنید:

bash
Copy
git checkout -b feature/نام-فیچر  
۳. کامیت و پوش کنید:

bash
Copy
git commit -m "اضافه کردن سرویس پرداخت"  
git push origin feature/نام-فیچر  
۴. Pull Request باز کنید تا تغییراتتون رو بررسی کنیم!

تماس با من
ایمیل: darbandidr99@gmail.com

گیتهاب: idarbandi

لینک پروژه: https://github.com/idarbandi/StackPay